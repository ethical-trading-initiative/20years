{% import "macros/gallery.njk" as gallery %}

{% macro entry( uid='', year='', intro='', body='', blockquote='', cite='', media={} ) -%}

  <div class="tl-entry tl-entry-{{ uid }}">

    <div class="tl-entry-initial">

      <div class="tl-entry-marker"></div>

      <div class="tl-entry-card">

        <div class="card__title">
          <h2>{{ year }}</h2>
        </div>

        <div class="card__lead-image">
        <img  srcset="images/bitmap/entry-lead/{{ year }}-442w.jpg 442w,
                      images/bitmap/entry-lead/{{ year }}-525w.jpg 525w,
                      images/bitmap/entry-lead/{{ year }}-682w.jpg 682w"
               sizes="(max-width: 520px) 442px,
                      (max-width: 1199px) 682px,
                      (min-width: 1200px) 525px,
                      682px"
                 src="images/bitmap/entry-lead/{{ year }}-525w.jpg" alt="">
        </div>

        <div class="card__body">

          <p>{{ intro | safe }}</p>

          {# {% if media %}
          <ul class="tl-entry-gallery">
            {% for item in media %}
            <li class="gallery-item">
              {{ gallery.gallery_item(
                label       = item.label,
                gallery_uid = uid,
                img_id      = item.img_id,
                video_url   = item.video_url
                )
              }}
            </li>
            {% endfor %}
          </ul>
          {% endif %} #}

          {# TODO: Instruct screen readers to ignore this (the body text will already be available). #}
          <div class="btn-wrapper">
            <a href="#" class="btn read-more">Read more</a>
          </div>

        </div>

      </div>

      {% if blockquote %}
      <div class="tl-entry-pullquote">
        <blockquote>{{ blockquote }}
          <cite>{{ cite }}</cite>
        </blockquote>
      </div>
      {% endif %}

    </div>

    <div class="tl-entry-body">
      <div class="inner-wrapper">
        {% include "../entries/" + year + ".njk" %}
      </div>
    </div>

    {# <div class="bohea"></div> #}

  </div>

{%- endmacro %}
