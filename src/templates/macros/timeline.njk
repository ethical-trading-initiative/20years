{% import "macros/gallery.njk" as gallery %}

{% macro entry( uid='', year='', intro='', body='', blockquote='', cite='', list='' ) -%}

  <div class="tl-entry tl-entry-{{ uid }}">

    <div class="tl-entry-initial">

      <div class="tl-entry-marker"></div>

      <div class="tl-entry-card">

        <div class="card__title">
          <h2>{{ year }}</h2>
        </div>

        <div class="card__lead-image">
          <img  srcset="images/bitmap/entry-lead/{{ year }}-442w.jpg 442w,
                        images/bitmap/entry-lead/{{ year }}-682w.jpg 682w,
                        images/bitmap/entry-lead/{{ year }}-710w.jpg 710w"
                 sizes="(max-width: 520px) 442px,
                        (max-width: 1199px) 682px,
                        (min-width: 1200px) 710px,
                        710px"
                   src="images/bitmap/entry-lead/{{ year }}-710w.jpg" alt="">
        </div>

        <div class="card__body">

          <p>{{ intro | safe }}</p>

          <div class="card__body-continued">
            {% include "../entries/" + year + ".njk" %}
          </div>

          {# TODO: Instruct screen readers to ignore this (the body text will already be available). #}
          <div class="btn-wrapper">
            <a href="#" class="btn read-more">Read more</a>
          </div>

        </div>

      </div>

      {% if blockquote %}
      <div class="tl-entry-pullquote">
        <blockquote>{{ blockquote }}
          <cite>{{ cite }}</cite>
        </blockquote>
      </div>
      {% endif %}

      {% if list %}
      <ul class="tl-entry-list">
        {% for item in list %}
        <li>{{ item }}</li>
        {% endfor %}
      </ul>
      {% endif %}

    </div>

  </div>

{%- endmacro %}
