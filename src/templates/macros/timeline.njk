{% import "macros/gallery.njk" as gallery %}

{% macro entry( type='event', uid='', year='', month='', title='', body='', btn_url='', media={} ) -%}

  {% if type === 'year' %}

  <div class="timeline-entry year">
    <div class="year-content">
      <h2>{{ year }}</h2>
    </div>
  </div>
  <div class="timeline-entry blank"></div>

  {% else %}

  <div class="timeline-entry event">

    <div class="timeline-entry-date">
      <div class="date__header">{{ month }}</div>
      <div class="date__body">
        <div class="date__year">{{ year }}</div>
      </div>
    </div>

    <div class="timeline-entry-content">
      <h2>{{ title }} {{ uid + 1 }}</h2>
      {{ body | safe }}
      {% if media %}
      <ul class="timeline-entry-gallery">
        {% for item in media %}
        <li class="gallery-item">
          {{ gallery.gallery_item(
            label       = item.label,
            gallery_uid = uid,
            img_id      = item.img_id,
            video_url   = item.video_url
            )
          }}
        </li>
        {% endfor %}
      </ul>
      {% endif %}
      {% if btn_url %}
      <a href="{{ btn_url }}" target="_blank" class="btn read-more">Read more</a>
      {% endif %}
    </div>

  </div>

  {% endif %}

{%- endmacro %}
